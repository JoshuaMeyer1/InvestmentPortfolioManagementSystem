<!DOCTYPE html>
<html>

<head>

    <title>Portfolio Screen</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- fonts -->
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/fontawesome.min.css"
        integrity="undefined" crossorigin="anonymous" />

    <!-- bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

    <script src="mainScript.js"></script>

    <script>

        var tablesDict = [];

        function updateTable() {
            localStorage.setItem("stockTable", tablesDict);
            var listTable = document.getElementById("stockTable");
            listTable.innerHTML = '';
            for (var i = 0; i < tablesDict.length; i++) {
                listTable.innerHTML += '<tr><th scope="row">' + String(i) + '</th><td>' + String(tablesDict[i]["stockName"]) + '</td><td>' + String(tablesDict[i]["stockExchange"]) + '</td><td>' + String(tablesDict[i]["buyDate"]) + '</td><td><button onclick="removeStock(' + i + ')" style="border-radius: 0px" class="btn btn-outline-secondary"type="button">Remove</button></td></tr>';
            }
        }

        function removeStock(index) {
            tablesDict.splice(index, 1);
            updateTable();
        }


        function submitStock() {
            var stockName = document.getElementById("stockName").value;
            var stockExchange = document.getElementById("stockExchange").value;
            var buyDate = document.getElementById("buyDate").value;

            tablesDict.push({
                'stockName': stockName,
                'stockExchange': stockExchange,
                'buyDate': buyDate
            });


            console.log(tablesDict);
            updateTable();
        }

        

    </script>
</head>

<body>
    <div class="navigation">
        <ul>
            <li>
                <a href="#" style="padding-left: 0rem">
                    <img src="samplelogo.png" width="200" height="200" alt="Logo" />
                </a>
            </li>
            <li>
                <a href="userProfile.html" style="color: #a8a8a8">
                    <span class="linkText">User Profile</span>
                </a>
            </li>

            <li>
                <a href="#">
                    <span class="linkText">Portfolio</span>
                </a>
            </li>

            <li>
                <a href="portfolioAnalysis.html" style="color: #a8a8a8">
                    <span class="linkText">Portfolio Analysis</span>
                </a>
            </li>
        </ul>
    </div>

    <div class="header">
        <h2 style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif, garamond,serif;">
            Data Selection
        </h2>
    </div>

    <div class="contentContainer">
        <div id="dataSelectionContent">
            <div id="parameterSelection" class="input-group input-group-lg">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="inputGroup-sizing-lg">Stock</span>
                </div>
                <input type="text" class="form-control" id="stockName" placeholder="ex. TSLA, AMZA, AAPL" />

                <div class="input-group-prepend">
                    <span class="input-group-text" id="inputGroup-sizing-lg">Stock Exchange</span>
                </div>
                <input type="text" class="form-control" id="stockExchange" placeholder="Exe. Nasdaq, nyse" />

                <div class="input-group-prepend">
                    <span class="input-group-text" id="inputGroup-sizing-lg">Buy Date</span>
                </div>
                <input type="text" class="form-control" id="buyDate" placeholder="MM/DD/YYYY" />

                <button onclick="submitStock()" style="border-radius: 0px" class="btn btn-outline-secondary"
                    type="button">
                    Add Stock
                </button>
            </div>
        </div>
    </div>

    <div class="contentContainer">
        <div id="stockPortfolio">
            <table class="table">
                <thead class="thead-light">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Stock</th>
                        <th scope="col">Stock Exchange</th>
                        <th scope="col">Buy Date</th>
                        <th scope="col">Remove</th>
                    </tr>
                </thead>
                <tbody id = "stockTable">

                    <!--
                    <tr>
                        <th scope="row">1</th>
                        <td>Mark</td>
                        <td>Otto</td>
                        <td>@mdo</td>
                        <td>
                            <button onclick="removeStock(' + i + ')" style="border-radius: 0px" class="btn btn-outline-secondary"
                            type="button">
                                RemoveStock
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">2</th>
                        <td>Jacob</td>
                        <td>Thornton</td>
                        <td>@fat</td>
                    </tr>
                    <tr>
                        <th scope="row">3</th>
                        <td>Larry</td>
                        <td>the Bird</td>
                        <td>@twitter</td>
                    </tr>
                    -->

                </tbody>
            </table>
        </div>
    </div>
</body>

</html>